{"ast":null,"code":"import { scan, iterator } from './tokenizer.js';\nfunction parse(input) {\n  let iter = iterator(scan(input));\n  return walk(iter);\n}\nfunction walk(iter) {\n  let rules = [];\n  while (iter.next()) {\n    let {\n      curr,\n      next\n    } = iter.get();\n    if (curr.value === 'var') {\n      if (next && next.isSymbol('(')) {\n        iter.next();\n        let rule = parseVar(iter);\n        if (isValid(rule.name)) {\n          rules.push(rule);\n        }\n      }\n    } else if (rules.length && !curr.isSymbol(',')) {\n      break;\n    }\n  }\n  return rules;\n}\nfunction parseVar(iter) {\n  let ret = {};\n  let tokens = [];\n  while (iter.next()) {\n    let {\n      curr,\n      next\n    } = iter.get();\n    if (curr.isSymbol(')', ';') && !ret.name) {\n      ret.name = joinTokens(tokens);\n      break;\n    } else if (curr.isSymbol(',')) {\n      if (ret.name === undefined) {\n        ret.name = joinTokens(tokens);\n        tokens = [];\n      }\n      if (ret.name) {\n        ret.fallback = walk(iter);\n      }\n    } else {\n      tokens.push(curr);\n    }\n  }\n  return ret;\n}\nfunction joinTokens(tokens) {\n  return tokens.map(n => n.value).join('');\n}\nfunction isValid(name) {\n  if (name === undefined) return false;\n  if (name.length <= 2) return false;\n  if (name.substr(2).startsWith('-')) return false;\n  if (!name.startsWith('--')) return false;\n  return true;\n}\nexport default parse;","map":{"version":3,"names":["scan","iterator","parse","input","iter","walk","rules","next","curr","get","value","isSymbol","rule","parseVar","isValid","name","push","length","ret","tokens","joinTokens","undefined","fallback","map","n","join","substr","startsWith"],"sources":["/Users/mariaeduardatc/Documents/GitHub/website/node_modules/css-doodle/src/parser/parse-var.js"],"sourcesContent":["import { scan, iterator } from './tokenizer.js';\n\nfunction parse(input) {\n  let iter = iterator(scan(input));\n  return walk(iter);\n}\n\nfunction walk(iter) {\n  let rules = [];\n  while (iter.next()) {\n    let { curr, next } = iter.get();\n    if (curr.value === 'var') {\n      if (next && next.isSymbol('(')) {\n        iter.next();\n        let rule = parseVar(iter);\n        if (isValid(rule.name)) {\n          rules.push(rule);\n        }\n      }\n    } else if (rules.length && !curr.isSymbol(',')) {\n      break;\n    }\n  }\n  return rules;\n}\n\nfunction parseVar(iter) {\n  let ret = {};\n  let tokens = [];\n  while (iter.next()) {\n    let { curr, next } = iter.get();\n    if (curr.isSymbol(')', ';') && !ret.name) {\n      ret.name = joinTokens(tokens);\n      break;\n    }\n    else if (curr.isSymbol(',')) {\n      if (ret.name === undefined) {\n        ret.name = joinTokens(tokens);\n        tokens = [];\n      }\n      if (ret.name) {\n        ret.fallback = walk(iter);\n      }\n    } else {\n      tokens.push(curr);\n    }\n  }\n  return ret;\n}\n\nfunction joinTokens(tokens) {\n  return tokens.map(n => n.value).join('');\n}\n\nfunction isValid(name) {\n  if (name === undefined) return false;\n  if (name.length <= 2) return false;\n  if (name.substr(2).startsWith('-')) return false;\n  if (!name.startsWith('--')) return false;\n  return true;\n}\n\nexport default parse;\n"],"mappings":"AAAA,SAASA,IAAI,EAAEC,QAAQ,QAAQ,gBAAgB;AAE/C,SAASC,KAAK,CAACC,KAAK,EAAE;EACpB,IAAIC,IAAI,GAAGH,QAAQ,CAACD,IAAI,CAACG,KAAK,CAAC,CAAC;EAChC,OAAOE,IAAI,CAACD,IAAI,CAAC;AACnB;AAEA,SAASC,IAAI,CAACD,IAAI,EAAE;EAClB,IAAIE,KAAK,GAAG,EAAE;EACd,OAAOF,IAAI,CAACG,IAAI,EAAE,EAAE;IAClB,IAAI;MAAEC,IAAI;MAAED;IAAK,CAAC,GAAGH,IAAI,CAACK,GAAG,EAAE;IAC/B,IAAID,IAAI,CAACE,KAAK,KAAK,KAAK,EAAE;MACxB,IAAIH,IAAI,IAAIA,IAAI,CAACI,QAAQ,CAAC,GAAG,CAAC,EAAE;QAC9BP,IAAI,CAACG,IAAI,EAAE;QACX,IAAIK,IAAI,GAAGC,QAAQ,CAACT,IAAI,CAAC;QACzB,IAAIU,OAAO,CAACF,IAAI,CAACG,IAAI,CAAC,EAAE;UACtBT,KAAK,CAACU,IAAI,CAACJ,IAAI,CAAC;QAClB;MACF;IACF,CAAC,MAAM,IAAIN,KAAK,CAACW,MAAM,IAAI,CAACT,IAAI,CAACG,QAAQ,CAAC,GAAG,CAAC,EAAE;MAC9C;IACF;EACF;EACA,OAAOL,KAAK;AACd;AAEA,SAASO,QAAQ,CAACT,IAAI,EAAE;EACtB,IAAIc,GAAG,GAAG,CAAC,CAAC;EACZ,IAAIC,MAAM,GAAG,EAAE;EACf,OAAOf,IAAI,CAACG,IAAI,EAAE,EAAE;IAClB,IAAI;MAAEC,IAAI;MAAED;IAAK,CAAC,GAAGH,IAAI,CAACK,GAAG,EAAE;IAC/B,IAAID,IAAI,CAACG,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,CAACO,GAAG,CAACH,IAAI,EAAE;MACxCG,GAAG,CAACH,IAAI,GAAGK,UAAU,CAACD,MAAM,CAAC;MAC7B;IACF,CAAC,MACI,IAAIX,IAAI,CAACG,QAAQ,CAAC,GAAG,CAAC,EAAE;MAC3B,IAAIO,GAAG,CAACH,IAAI,KAAKM,SAAS,EAAE;QAC1BH,GAAG,CAACH,IAAI,GAAGK,UAAU,CAACD,MAAM,CAAC;QAC7BA,MAAM,GAAG,EAAE;MACb;MACA,IAAID,GAAG,CAACH,IAAI,EAAE;QACZG,GAAG,CAACI,QAAQ,GAAGjB,IAAI,CAACD,IAAI,CAAC;MAC3B;IACF,CAAC,MAAM;MACLe,MAAM,CAACH,IAAI,CAACR,IAAI,CAAC;IACnB;EACF;EACA,OAAOU,GAAG;AACZ;AAEA,SAASE,UAAU,CAACD,MAAM,EAAE;EAC1B,OAAOA,MAAM,CAACI,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACd,KAAK,CAAC,CAACe,IAAI,CAAC,EAAE,CAAC;AAC1C;AAEA,SAASX,OAAO,CAACC,IAAI,EAAE;EACrB,IAAIA,IAAI,KAAKM,SAAS,EAAE,OAAO,KAAK;EACpC,IAAIN,IAAI,CAACE,MAAM,IAAI,CAAC,EAAE,OAAO,KAAK;EAClC,IAAIF,IAAI,CAACW,MAAM,CAAC,CAAC,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE,OAAO,KAAK;EAChD,IAAI,CAACZ,IAAI,CAACY,UAAU,CAAC,IAAI,CAAC,EAAE,OAAO,KAAK;EACxC,OAAO,IAAI;AACb;AAEA,eAAezB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}